{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}온새동물의료센터{% endblock %}</title>
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
  <link rel="stylesheet" href="{% static 'css/header.css' %}">
  <link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
  {% block extra_head %}{% endblock %}
</head>
<body>
  <div class="wrap">
    <div class="w-full header-wrap">
      <header class="inner">
        <div class="header-container">
          <div class="logo">
            <a href="{% url 'hospital:index' %}" rel="home">
              <img src="{% static 'images/logo.png' %}" alt="온새동물의료센터">
            </a>
          </div>
          
          <!-- PC 네비게이션 메뉴 -->
          <nav class="pc-nav">
            <ul class="nav-menu">
              <li class="nav-item">
                <a href="{% url 'hospital:intro' %}" class="nav-link">병원소개</a>
                <div class="dropdown-menu">
                  <a href="{% url 'hospital:intro' %}" class="dropdown-item">인삿말</a>
                  <a href="{% url 'hospital:doctor_list' %}" class="dropdown-item">의료진 소개</a>
                  <a href="{% url 'hospital:equip_list' %}" class="dropdown-item">병원 둘러보기</a>
                  <a href="{% url 'hospital:location' %}" class="dropdown-item">진료시간/오시는길</a>
                </div>
              </li>
              <li class="nav-item">
                <a href="{% url 'medical:checkup' %}" class="nav-link">진료과목</a>
                <div class="dropdown-menu">
                  <a href="{% url 'medical:checkup' %}" class="dropdown-item">건강검진</a>
                  <a href="{% url 'medical:internal' %}" class="dropdown-item">일반 내과</a>
                  <a href="{% url 'medical:special' %}" class="dropdown-item">중증 내과</a>
                  <a href="{% url 'medical:surgery' %}" class="dropdown-item">외과</a>
                  <a href="{% url 'medical:dental' %}" class="dropdown-item">치과/안과</a>
                </div>
              </li>
              <li class="nav-item">
                <a href="{% url 'cases:list' %}" class="nav-link">치료케이스</a>
                <div class="dropdown-menu">
                  <a href="{% url 'cases:list' %}" class="dropdown-item">치료케이스</a>
                </div>
              </li>
              <li class="nav-item">
                <a href="{% url 'community:notice_list' %}" class="nav-link">커뮤니티</a>
                <div class="dropdown-menu">
                  <a href="{% url 'community:notice_list' %}" class="dropdown-item">공지사항</a>
                  <a href="{% url 'community:event_list' %}" class="dropdown-item">이벤트</a>
                  <a href="{% url 'community:tips_list' %}" class="dropdown-item">반려동물 생활백서</a>
                </div>
              </li>
            </ul>
          </nav>
          
          <!-- 모바일 햄버거 메뉴 버튼 -->
          <div class="menu-btn">
            <span></span>
            <span></span>
            <span></span>
          </div>
        </div>
      </header>
    </div>

    <!-- 모바일 메뉴 오버레이 -->
    <div class="close-overlay" id="close-overlay"></div>

    <!-- 모바일 네비게이션 메뉴 -->
    <nav class="mobile-menu" id="mobile-menu">
      <div class="menu-content">
        <div class="menu-section">
          <div class="menu-title" data-menu="hospital">병원소개</div>
          <div class="sub-menu" id="hospital-menu">
            <a href="#" class="sub-menu-item">인삿말</a>
            <a href="#" class="sub-menu-item">의료진 소개</a>
            <a href="#" class="sub-menu-item">병원 둘러보기</a>
            <a href="#" class="sub-menu-item">진료시간/오시는길</a>
          </div>
        </div>

        <div class="menu-section">
          <div class="menu-title" data-menu="medical">진료과목</div>
          <div class="sub-menu" id="medical-menu">
            <a href="#" class="sub-menu-item">건강검진</a>
            <a href="#" class="sub-menu-item">일반 내과</a>
            <a href="#" class="sub-menu-item">중증 내과</a>
            <a href="#" class="sub-menu-item">외과</a>
            <a href="#" class="sub-menu-item">치과/안과</a>
          </div>
        </div>

        <div class="menu-section">
          <div class="menu-title" data-menu="cases">치료케이스</div>
          <div class="sub-menu" id="cases-menu">
            <a href="#" class="sub-menu-item">치료케이스</a>
          </div>
        </div>

        <div class="menu-section">
          <div class="menu-title" data-menu="community">커뮤니티</div>
          <div class="sub-menu" id="community-menu">
            <a href="#" class="sub-menu-item">공지사항</a>
            <a href="#" class="sub-menu-item">이벤트</a>
            <a href="#" class="sub-menu-item">반려동물 생활백서</a>
          </div>
        </div>
      </div>
    </nav>
    
    {% block content %}{% endblock %}
    
    <footer class="w-full">
      <div class="footer-content">
        <div class="footer-logo">
          <img src="{% static 'images/exlog.png' %}" alt="온새동물의료센터">
        </div>
        
        <div class="footer-info">
          <p>대표자 : 이명수 오태진 | 대표번호 : 000 - 000 - 0000</p>
          <p>사업자등록번호 : 149 05 03383</p>
          <p>주소 : 경기도 수원시 영통구 봉영로 1587, 2층 201호(다모아프라자)</p>
          <p>copyright © 뿌리동물병원. All right Reserved.</p>
        </div>
        
        <div class="footer-links">
          <ul class="link-row">
            <li><a href="#">인스타그램</a></li>
            <li><a href="#">블로그</a></li>
            <li><a href="#">유튜브</a></li>
          </ul>
          <ul class="link-row">
            <li><a href="#">개인정보처리방침</a></li>
            <li><a href="#">표준이용약관</a></li>
          </ul>
        </div>
      </div>
    </footer>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
  <script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=dw2jyey460"></script>
  <script src="{% static 'js/main.js' %}"></script>
  
  <script>
    // API 로드 완료 후 실행될 함수
    function initMap() {
      // 지도 요소가 존재하는지 확인
      if (document.getElementById('map')) {
        // 지도 생성
        var map = new naver.maps.Map('map', {
          center: new naver.maps.LatLng(37.270835, 127.013005), // 온새동물의료센터 좌표
          zoom: 17,
          minZoom: 8,
          zoomControl: true,
          zoomControlOptions: {
            position: naver.maps.Position.TOP_RIGHT
          }
        });
        
        // 마커 생성
        var marker = new naver.maps.Marker({
          position: new naver.maps.LatLng(37.270835, 127.013005),
          map: map
        });
      }
    }

    // 네이버 지도 API가 로드되었는지 확인하는 함수
    function checkNaverMapsLoaded() {
      if (window.naver && window.naver.maps) {
        // API가 로드됨
        initMap();
      } else {
        // 아직 로드되지 않음, 100ms 후 다시 확인
        setTimeout(checkNaverMapsLoaded, 100);
      }
    }

    // 페이지 로드 완료 시 실행
    document.addEventListener('DOMContentLoaded', function() {
      checkNaverMapsLoaded();
    });
  </script>
  {% block extra_scripts %}{% endblock %}
</body>
</html>